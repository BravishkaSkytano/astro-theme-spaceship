---
import { useI18n } from "../../i18n/utils";
import type { DocumentContext } from "../../types";
import ImageIcon from "../Icons/Image.astro";
import LinkIcon from "../Icons/Link.astro";

export type Props = {
  document?: DocumentContext;
};

const { document } = Astro.props;

const links = document?.data?.links ?? [];
const images = document?.data?.images ?? [];

const shouldRender = !!((links.length && links.length > 0) || (images.length && images.length > 0));

const { t } = useI18n(Astro);
---

{
  shouldRender && (
    <nav class="mb-4 text-menu-foreground dark:text-menu-foreground-dark font-menu">
      <h2 class="text-xl mb-2">{t('nav.links')}</h2>
      <ul class="flex flex-col gap-0.5">
        {links.map((link) => (
          <li class="w-full rounded-lg py-1 px-2 hover:bg-menu-active-background dark:hover:bg-menu-active-background-dark">
            <a class="flex gap-2" href={link.href} title={link.title}>
              <LinkIcon />
              <span class="truncate">{link.title}</span>
            </a>
          </li>
        ))}
        {images.map((image) => (
          <li class="w-full rounded-lg py-1 px-2 hover:bg-menu-active-background dark:hover:bg-menu-active-background-dark">
            <a class="flex gap-2" href={image.href} title={image.title}>
              <ImageIcon />
              <span class="truncate">{image.title}</span>
            </a>
          </li>
        ))}
      </ul>
    </nav>
  )
}
